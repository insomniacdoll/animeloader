# AnimeLoader 服务端配置文件

server:
  host: "127.0.0.1"
  port: 8000
  debug: false

database:
  path: "~/.animeloader/data/animeloader.db" 

rss:
  check_interval: 3600      # RSS检查间隔（秒）
  timeout: 30               # RSS请求超时（秒）
  max_links_per_source: 100 # 每个RSS源保留的最大链接数
  link_retention_days: 30   # 链接保留天数

download:
  download_dir: "~/.animeloader/downloads"  # 下载目录，默认在用户目录下
  max_concurrent_downloads: 3
  chunk_size: 8192
  retry_count: 3            # 下载失败重试次数
  retry_interval: 60        # 重试间隔（秒）
  auto_sync_interval: 30    # 自动同步下载状态间隔（秒）

link_types:
  enabled:
    - magnet                # 支持的链接类型
    - ed2k
  parsers:
    magnet: "server.link_parsers.magnet_parser.MagnetParser"
    ed2k: "server.link_parsers.ed2k_parser.Ed2kParser"

downloaders:
  enabled:
    - aria2                 # 支持的下载器类型
    - pikpak
  implementations:
    aria2: "server.downloaders.aria2_downloader.Aria2Downloader"
    pikpak: "server.downloaders.pikpak_downloader.PikPakDownloader"
  default_type: aria2       # 默认下载器类型

# aria2 默认配置模板
aria2:
  host: "127.0.0.1"
  port: 6800
  secret: ""
  timeout: 30

# pikpak 默认配置模板
pikpak:
  api_endpoint: "https://api-drive.mypikpak.com"
  username: ""
  password: ""
  timeout: 60

scheduler:
  enabled: true

smart_parser:
  timeout: 30                # 网站解析超时时间（秒）
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"  # 用户代理
  max_results: 10            # 最大返回结果数
  auto_add_rss: true         # 智能添加动画时是否自动解析RSS源

logging:
  level: "INFO"
  file: "~/.animeloader/logs/animeloader.log"  # 日志文件路径，默认在用户目录下
  max_bytes: 10485760  # 10MB
  backup_count: 5
