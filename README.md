# AnimeLoader

<div align="center">

![Python](https://img.shields.io/badge/Python-3.12+-blue.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-Active-success.svg)

**ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åŠ¨ç”»è®¢é˜…å’Œä¸‹è½½ç®¡ç†ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£) â€¢ [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

AnimeLoader æ˜¯ä¸€ä¸ªåŸºäº Python çš„åŠ¨ç”»è®¢é˜…å’Œä¸‹è½½ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¶æ„è®¾è®¡ã€‚å®ƒå¯ä»¥å¸®åŠ©åŠ¨ç”»çˆ±å¥½è€…è‡ªåŠ¨åŒ–åœ°è®¢é˜…ã€ä¸‹è½½å’Œç®¡ç†åŠ¨ç”»å†…å®¹ï¼Œæ”¯æŒä»å¤šä¸ª RSS æºè‡ªåŠ¨è·å–æ–°å‘å¸ƒçš„åŠ¨ç”»ï¼Œå¹¶æä¾›æ™ºèƒ½è§£æåŠŸèƒ½æ¥ç®€åŒ–åŠ¨ç”»è®¢é˜…æµç¨‹ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¬ **æ™ºèƒ½åŠ¨ç”»è®¢é˜…**ï¼šæ”¯æŒä»èœœæŸ‘è®¡åˆ’ç­‰åŠ¨ç”»ç½‘ç«™æ™ºèƒ½è§£æåŠ¨ç”»ä¿¡æ¯
- ğŸ“¡ **RSSæºç®¡ç†**ï¼šçµæ´»ç®¡ç†å¤šä¸ª RSS è®¢é˜…æºï¼Œæ”¯æŒè‡ªåŠ¨æ£€æµ‹æ–°å‘å¸ƒ
- ğŸ”— **é“¾æ¥ç®¡ç†**ï¼šæ”¯æŒå¤šç§é“¾æ¥ç±»å‹ï¼ˆmagnetã€ed2k ç­‰ï¼‰
- â¬‡ï¸ **å¤šä¸‹è½½å™¨æ”¯æŒ**ï¼šæ”¯æŒ aria2ã€pikpak ç­‰å¤šç§ä¸‹è½½å™¨
- â° **å®šæ—¶ä»»åŠ¡è°ƒåº¦**ï¼šè‡ªåŠ¨æ£€æµ‹æ–°å‘å¸ƒå¹¶ä¸‹è½½
- ğŸ“Š **ä¸‹è½½çŠ¶æ€ç›‘æ§**ï¼šå®æ—¶æŸ¥çœ‹ä¸‹è½½è¿›åº¦å’ŒçŠ¶æ€
- ğŸ–¥ï¸ **RESTful API**ï¼šæä¾›å®Œæ•´çš„ REST API æ¥å£
- ğŸ” **API å¯†é’¥è®¤è¯**ï¼šåŸºäº API å¯†é’¥çš„èº«ä»½è®¤è¯æœºåˆ¶ï¼Œä¿æŠ¤æœåŠ¡ç«¯æ¥å£å®‰å…¨
- ğŸ§ª **å®Œå–„æµ‹è¯•**ï¼šåŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ğŸ“± **å‘½ä»¤è¡Œå®¢æˆ·ç«¯**ï¼šåŸºäº cmd2 å’Œ rich çš„äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢

---

## âœ¨ å½“å‰å®ç°çŠ¶æ€

### å·²å®Œæˆ âœ…

- [x] é¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
- [x] æ•°æ®åº“æ¨¡å‹è®¾è®¡ï¼ˆSQLite + SQLAlchemyï¼ŒåŒ…å« Animeã€RSSSourceã€Linkã€Downloaderã€DownloadTaskã€APIKeyï¼‰
- [x] åŠ¨ç”»ç®¡ç†æœåŠ¡ï¼ˆCRUDã€æœç´¢ã€è¿‡æ»¤ï¼‰
- [x] RSS æºç®¡ç†æœåŠ¡ï¼ˆCRUDã€å…³è”åŠ¨ç”»ï¼‰
- [x] æ™ºèƒ½è§£ææœåŠ¡ï¼ˆèœœæŸ‘è®¡åˆ’ç½‘ç«™ï¼‰
- [x] é“¾æ¥ç®¡ç†æœåŠ¡ï¼ˆCRUDã€ç±»å‹è¿‡æ»¤ï¼‰
- [x] ä¸‹è½½å™¨ç®¡ç†æœåŠ¡ï¼ˆMock å®ç°ï¼‰
- [x] ä¸‹è½½ä»»åŠ¡ç®¡ç†æœåŠ¡ï¼ˆMock å®ç°ï¼‰
- [x] è°ƒåº¦æœåŠ¡ï¼ˆå®šæ—¶ä»»åŠ¡ç®¡ç†ï¼‰
- [x] åŸºç¡€ API æ¡†æ¶ï¼ˆFastAPIï¼‰
- [x] æ¨¡å—åŒ–è·¯ç”±å’Œ Schemas è®¾è®¡
- [x] å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼ˆ11 ä¸ªæµ‹è¯•æ¨¡å—ï¼‰
- [x] å®¢æˆ·ç«¯åŸºç¡€æ¡†æ¶
- [x] API å¯†é’¥è®¤è¯ï¼ˆè·¯ç”±å™¨çº§åˆ«ä¾èµ–ï¼Œç±»ä¼¼ Java Spring AOPï¼‰
- [x] API å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆåˆ›å»ºã€éªŒè¯ã€æ›´æ–°ã€åˆ é™¤ï¼‰
- [x] æœåŠ¡ç«¯æ‰€æœ‰ API è·¯ç”±å®ç°ï¼ˆanimeã€rssã€linkã€downloaderã€downloadã€schedulerã€smart_parserã€healthï¼‰
- [x] å®¢æˆ·ç«¯ anime å‘½ä»¤ï¼ˆaddã€listã€showã€smart-addï¼‰
- [x] é‡å¤æ·»åŠ é¢„é˜²åŠŸèƒ½ï¼ˆåŠ¨ç”»ã€RSSæºã€é“¾æ¥ï¼‰

### å¼€å‘ä¸­ ğŸš§

- [ ] RSS æºè‡ªåŠ¨æ£€æŸ¥
- [ ] é“¾æ¥è‡ªåŠ¨ä¸‹è½½
- [ ] ä¸‹è½½çŠ¶æ€åŒæ­¥
- [ ] å®¢æˆ·ç«¯å‘½ä»¤å®ç°ï¼ˆrssã€linkã€downloaderã€downloadã€statusï¼‰

### è®¡åˆ’ä¸­ ğŸ“‹

- [ ] å¤šä¸‹è½½å™¨çœŸå®å®ç°ï¼ˆaria2ã€pikpakã€qBittorrentï¼‰
- [ ] Web ç•Œé¢
- [ ] ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- [ ] ç§»åŠ¨ç«¯æ”¯æŒ

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚         â”‚                 â”‚
â”‚   CLI Client    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   Server        â”‚
â”‚                 â”‚  HTTP   â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½
                                     â”‚
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   SQLite DB     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½
                                     â”‚
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   Downloaders   â”‚
                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚  â”‚   aria2   â”‚  â”‚
                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚  â”‚   pikpak  â”‚  â”‚
                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

**åç«¯ï¼š**
- Python 3.12+
- FastAPIï¼ˆREST API æ¡†æ¶ï¼‰
- SQLAlchemyï¼ˆORMï¼‰
- SQLiteï¼ˆæ•°æ®åº“ï¼‰
- APSchedulerï¼ˆä»»åŠ¡è°ƒåº¦ï¼‰
- Pydanticï¼ˆæ•°æ®éªŒè¯ï¼‰

**å‰ç«¯/å®¢æˆ·ç«¯ï¼š**
- cmd2ï¼ˆå‘½ä»¤è¡Œæ¡†æ¶ï¼‰
- richï¼ˆç»ˆç«¯ç¾åŒ–ï¼‰
- requestsï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
- feedparserï¼ˆRSS è§£æï¼‰
- beautifulsoup4ï¼ˆHTML è§£æï¼‰

**å…¶ä»–ï¼š**
- pytestï¼ˆæµ‹è¯•æ¡†æ¶ï¼‰
- uvicornï¼ˆASGI æœåŠ¡å™¨ï¼‰

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
animeloader/
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE               # è®¸å¯è¯
â”œâ”€â”€ requirements.txt      # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ run_tests.py          # æµ‹è¯•è¿è¡Œè„šæœ¬
â”œâ”€â”€ server_config.yaml    # æœåŠ¡ç«¯é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
â”œâ”€â”€ client_config.yaml    # å®¢æˆ·ç«¯é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
â”œâ”€â”€ docs/                 # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ DESIGN.md         # è®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ TESTS.md          # æµ‹è¯•æ–‡æ¡£
â”œâ”€â”€ server/               # æœåŠ¡ç«¯ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py           # æœåŠ¡ç«¯å…¥å£
â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ anime.py      # åŠ¨ç”»æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ rss_source.py # RSSæºæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ link.py       # é“¾æ¥æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ downloader.py # ä¸‹è½½å™¨é…ç½®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ download.py   # ä¸‹è½½ä»»åŠ¡æ¨¡å‹
â”‚   â”‚   â””â”€â”€ api_key.py    # APIå¯†é’¥æ¨¡å‹
â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ anime_service.py       # åŠ¨ç”»æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ rss_service.py         # RSSæºæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ smart_parser_service.py # æ™ºèƒ½è§£ææœåŠ¡
â”‚   â”‚   â”œâ”€â”€ link_service.py        # é“¾æ¥æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ downloader_service.py  # ä¸‹è½½å™¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ download_service.py    # ä¸‹è½½æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ scheduler_service.py   # è°ƒåº¦æœåŠ¡
â”‚   â”‚   â””â”€â”€ api_key_service.py     # APIå¯†é’¥ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ link_parsers/     # é“¾æ¥è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ base_parser.py      # åŸºç¡€è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ magnet_parser.py    # ç£åŠ›é“¾æ¥è§£æå™¨
â”‚   â”‚   â””â”€â”€ ed2k_parser.py      # ed2ké“¾æ¥è§£æå™¨
â”‚   â”œâ”€â”€ site_parsers/      # ç½‘ç«™æ™ºèƒ½è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ base_site_parser.py # åŸºç¡€ç½‘ç«™è§£æå™¨
â”‚   â”‚   â””â”€â”€ mikan_parser.py     # èœœæŸ‘è®¡åˆ’è§£æå™¨
â”‚   â”œâ”€â”€ downloaders/       # ä¸‹è½½å™¨å®ç°
â”‚   â”‚   â””â”€â”€ base_downloader.py   # åŸºç¡€ä¸‹è½½å™¨æ¥å£
â”‚   â”œâ”€â”€ api/              # API æ¥å£ï¼ˆæ¨¡å—åŒ–è®¾è®¡ï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py       # API è®¤è¯ä¾èµ–ï¼ˆè·¯ç”±å™¨çº§åˆ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ routes/       # API è·¯ç”±ï¼ˆæŒ‰æ¨¡å—æ‹†åˆ†ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ anime.py          # åŠ¨ç”»ç›¸å…³è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ anime_extra.py    # åŠ¨ç”»æ‰©å±•è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ rss.py            # RSSæºè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ rss_extra.py      # RSSæºæ‰©å±•è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ link.py           # é“¾æ¥è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ link_extra.py     # é“¾æ¥æ‰©å±•è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ downloader.py     # ä¸‹è½½å™¨è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ download.py       # ä¸‹è½½ä»»åŠ¡è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ scheduler.py      # è°ƒåº¦æœåŠ¡è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ smart_parser.py   # æ™ºèƒ½è§£æè·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ health.py         # å¥åº·æ£€æŸ¥è·¯ç”±
â”‚   â”‚   â””â”€â”€ schemas/      # Pydantic æ¨¡å‹ï¼ˆæŒ‰æ¨¡å—æ‹†åˆ†ï¼‰
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ common.py         # é€šç”¨å“åº”æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ anime.py          # åŠ¨ç”»ç›¸å…³æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ rss.py            # RSSæºç›¸å…³æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ link.py           # é“¾æ¥ç›¸å…³æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ downloader.py     # ä¸‹è½½å™¨ç›¸å…³æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ download.py       # ä¸‹è½½ä»»åŠ¡ç›¸å…³æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ scheduler.py      # è°ƒåº¦æœåŠ¡ç›¸å…³æ¨¡å‹
â”‚   â”‚       â””â”€â”€ smart_parser.py   # æ™ºèƒ½è§£æç›¸å…³æ¨¡å‹
â”‚   â”œâ”€â”€ database/         # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â””â”€â”€ session.py    # æ•°æ®åº“ä¼šè¯
â”‚   â”œâ”€â”€ tests/            # æœåŠ¡ç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_smart_parser.py       # èœœæŸ‘è®¡åˆ’è§£æå™¨æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_smart_add.py          # æ™ºèƒ½æ·»åŠ åŠŸèƒ½æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_link_service.py       # é“¾æ¥æœåŠ¡æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_downloader_service.py # ä¸‹è½½å™¨æœåŠ¡æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_download_service.py   # ä¸‹è½½æœåŠ¡æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_scheduler_service.py  # è°ƒåº¦æœåŠ¡æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_api.py                # æœåŠ¡ç«¯APIæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_auth.py               # APIè®¤è¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_rss_parser.py         # RSSè§£æå™¨æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_integration.py        # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_duplicate_prevention.py  # é‡å¤æ·»åŠ é¢„é˜²æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_api_duplicate.py      # APIå±‚é‡å¤æ·»åŠ é¢„é˜²æµ‹è¯•
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ config.py     # é…ç½®åŠ è½½
â”‚       â””â”€â”€ logger.py     # æ—¥å¿—é…ç½®
â”œâ”€â”€ client/               # å®¢æˆ·ç«¯ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py           # å®¢æˆ·ç«¯å…¥å£
â”‚   â”œâ”€â”€ commands/         # CLI å‘½ä»¤
â”‚   â”‚   â””â”€â”€ anime_commands.py     # åŠ¨ç”»å‘½ä»¤
â”‚   â”œâ”€â”€ api/              # API å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ client.py     # APIå®¢æˆ·ç«¯å®ç°
â”‚   â”œâ”€â”€ tests/            # å®¢æˆ·ç«¯æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_smart_add.py     # å®¢æˆ·ç«¯æ™ºèƒ½æ·»åŠ æµ‹è¯•
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ config.py     # å®¢æˆ·ç«¯é…ç½®åŠ è½½
â”œâ”€â”€ data/                 # æ•°æ®åº“æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ animeloader.db
â”œâ”€â”€ downloads/            # ä¸‹è½½ç›®å½•
â””â”€â”€ logs/                 # æ—¥å¿—ç›®å½•
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.12 æˆ–æ›´é«˜ç‰ˆæœ¬
- pipï¼ˆPython åŒ…ç®¡ç†å™¨ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/insomniacdoll/animeloader.git
cd animeloader
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ–
venv\Scripts\activate  # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

### å¯åŠ¨æœåŠ¡ç«¯

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
python -m server.main

# æˆ–æŒ‡å®šé…ç½®æ–‡ä»¶
python -m server.main --config /path/to/config.yaml
```

æœåŠ¡ç«¯å°†åœ¨ `http://127.0.0.1:8000` å¯åŠ¨

æœåŠ¡ç«¯å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨ï¼š
- åˆå§‹åŒ–æ•°æ®åº“
- åˆ›å»ºé»˜è®¤ API å¯†é’¥
- å¯åŠ¨è°ƒåº¦å™¨

**é‡è¦**ï¼šæœåŠ¡ç«¯å¯åŠ¨åä¼šåœ¨æ§åˆ¶å°æ˜¾ç¤ºé»˜è®¤ API å¯†é’¥ï¼Œè¯·è®°å½•æ­¤å¯†é’¥å¹¶åœ¨å®¢æˆ·ç«¯é…ç½®ä¸­ä½¿ç”¨ã€‚

API æ–‡æ¡£è®¿é—®åœ°å€ï¼š
- Swagger UI: http://127.0.0.1:8000/docs
- ReDoc: http://127.0.0.1:8000/redoc

### å¯åŠ¨å®¢æˆ·ç«¯

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
python -m client.main

# æˆ–æŒ‡å®šé…ç½®æ–‡ä»¶
python -m client.main --config /path/to/config.yaml
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
python run_tests.py
```

### å•ç‹¬è¿è¡Œæµ‹è¯•

```bash
# æœåŠ¡ç«¯æµ‹è¯•
python server/tests/test_smart_parser.py
python server/tests/test_smart_add.py
python server/tests/test_link_service.py
python server/tests/test_downloader_service.py
python/tests/test_download_service.py
python server/tests/test_scheduler_service.py
python server/tests/test_api.py

# å®¢æˆ·ç«¯æµ‹è¯•
python client/tests/test_smart_add.py
```

### æµ‹è¯•è¦†ç›–

å½“å‰æµ‹è¯•è¦†ç›–ä»¥ä¸‹åŠŸèƒ½æ¨¡å—ï¼š

- âœ… èœœæŸ‘è®¡åˆ’è§£æå™¨æµ‹è¯•
- âœ… æ™ºèƒ½æ·»åŠ åŠŸèƒ½æµ‹è¯•
- âœ… é“¾æ¥æœåŠ¡æµ‹è¯•
- âœ… ä¸‹è½½å™¨æœåŠ¡æµ‹è¯•
- âœ… ä¸‹è½½æœåŠ¡æµ‹è¯•
- âœ… è°ƒåº¦æœåŠ¡æµ‹è¯•
- âœ… æœåŠ¡ç«¯ API æµ‹è¯•
- âœ… å®¢æˆ·ç«¯æ™ºèƒ½æ·»åŠ æµ‹è¯•
- âœ… å®¢æˆ·ç«¯ API è®¤è¯æµ‹è¯•
- âœ… æœåŠ¡å±‚é‡å¤æ·»åŠ é¢„é˜²æµ‹è¯•
- âœ… APIå±‚é‡å¤æ·»åŠ é¢„é˜²æµ‹è¯•

### æµ‹è¯•ç»“æœ

æ‰€æœ‰æµ‹è¯•åº”é€šè¿‡ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š

```
============================================================
æµ‹è¯•ç»“æœæ±‡æ€»
============================================================
1. èœœæŸ‘è®¡åˆ’è§£æå™¨æµ‹è¯•: âœ“ é€šè¿‡
2. æ™ºèƒ½æ·»åŠ æµ‹è¯•: âœ“ é€šè¿‡
3. é“¾æ¥æœåŠ¡æµ‹è¯•: âœ“ é€šè¿‡
4. ä¸‹è½½å™¨æœåŠ¡æµ‹è¯•: âœ“ é€šè¿‡
5. ä¸‹è½½æœåŠ¡æµ‹è¯•: âœ“ é€šè¿‡
6. è°ƒåº¦æœåŠ¡æµ‹è¯•: âœ“ é€šè¿‡
7. æœåŠ¡ç«¯APIæµ‹è¯•: âœ“ é€šè¿‡
8. å®¢æˆ·ç«¯æµ‹è¯•: âœ“ é€šè¿‡
9. å®¢æˆ·ç«¯APIè®¤è¯æµ‹è¯•: âœ“ é€šè¿‡
10. æœåŠ¡å±‚é‡å¤æ·»åŠ é¢„é˜²æµ‹è¯•: âœ“ é€šè¿‡
11. APIå±‚é‡å¤æ·»åŠ é¢„é˜²æµ‹è¯•: âœ“ é€šè¿‡

============================================================
[æˆåŠŸ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
============================================================
```

---

## ğŸ“š æ–‡æ¡£

- [è®¾è®¡æ–‡æ¡£](docs/DESIGN.md) - è¯¦ç»†çš„ç³»ç»Ÿè®¾è®¡æ–‡æ¡£ï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æ•°æ®æ¨¡å‹ã€API æ¥å£ç­‰
- [æµ‹è¯•æ–‡æ¡£](docs/TESTS.md) - æµ‹è¯•è¯´æ˜å’Œè¿è¡ŒæŒ‡å—

---

## âš™ï¸ é…ç½®

### æœåŠ¡ç«¯é…ç½®

æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ `server_config.yaml` ç¤ºä¾‹ï¼š

```yaml
server:
  host: "127.0.0.1"
  port: 8000
  debug: false

database:
  path: "~/.animeloader/data/animeloader.db"

logging:
  level: "INFO"
  file: "~/.animeloader/logs/animeloader.log"

scheduler:
  enabled: true

smart_parser:
  timeout: 30
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
  max_results: 10
  auto_add_rss: true
```

### å®¢æˆ·ç«¯é…ç½®

å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ `client_config.yaml` ç¤ºä¾‹ï¼š

```yaml
server:
  url: "http://127.0.0.1:8000"
  timeout: 30
  # APIå¯†é’¥ï¼ˆå¿…å¡«ï¼Œç”¨äºèº«ä»½éªŒè¯ï¼‰
  # è¯·ä»æœåŠ¡ç«¯å¯åŠ¨æ—¥å¿—ä¸­è·å–é»˜è®¤APIå¯†é’¥
  api_key: "35dddd59-65eb-42bc-963d-819ddbd54179"

display:
  theme: "auto"
  table_max_rows: 20
  show_progress: true

ui:
  use_rich: true
  use_cmd2: true
  emoji: true

logging:
  level: "INFO"
```

**æ³¨æ„**ï¼šå®¢æˆ·ç«¯å¿…é¡»é…ç½®æœ‰æ•ˆçš„APIå¯†é’¥æ‰èƒ½è®¿é—®æœåŠ¡ç«¯APIã€‚æœåŠ¡ç«¯å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤APIå¯†é’¥å¹¶åœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºã€‚

---

## ğŸ”§ å¼€å‘è·¯çº¿å›¾

### v0.1.0ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰

- âœ… åŠ¨ç”»ç®¡ç†åŠŸèƒ½
- âœ… RSS æºç®¡ç†åŠŸèƒ½
- âœ… æ™ºèƒ½è§£æåŠŸèƒ½ï¼ˆèœœæŸ‘è®¡åˆ’ï¼‰
- âœ… é“¾æ¥ç®¡ç†åŠŸèƒ½
- âœ… ä¸‹è½½å™¨ç®¡ç†åŠŸèƒ½ï¼ˆMock å®ç°ï¼‰
- âœ… ä¸‹è½½ä»»åŠ¡ç®¡ç†åŠŸèƒ½ï¼ˆMock å®ç°ï¼‰
- âœ… å®šæ—¶ä»»åŠ¡è°ƒåº¦åŠŸèƒ½
- âœ… æ¨¡å—åŒ– API è·¯ç”±å’Œ Schemas è®¾è®¡
- âœ… å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- âœ… API å¯†é’¥è®¤è¯åŠŸèƒ½
- âœ… å®¢æˆ·ç«¯ anime å‘½ä»¤å®ç°
- âœ… é‡å¤æ·»åŠ é¢„é˜²åŠŸèƒ½ï¼ˆåŠ¨ç”»ã€RSSæºã€é“¾æ¥ï¼‰

### v0.2.0ï¼ˆä¸‹ä¸€ç‰ˆæœ¬ï¼‰

- ğŸš§ RSS æºè‡ªåŠ¨æ£€æŸ¥
- ğŸš§ é“¾æ¥è‡ªåŠ¨ä¸‹è½½
- ğŸš§ ä¸‹è½½çŠ¶æ€åŒæ­¥
- ğŸš§ å®¢æˆ·ç«¯å‘½ä»¤å®ç°ï¼ˆrssã€linkã€downloaderã€downloadã€status å‘½ä»¤ï¼‰

### v0.3.0+ï¼ˆæœªæ¥è®¡åˆ’ï¼‰

- ğŸ“‹ å¤šä¸‹è½½å™¨çœŸå®å®ç°ï¼ˆaria2ã€pikpakã€qBittorrentï¼‰
- ğŸ“‹ ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- ğŸ“‹ Web ç•Œé¢
- ğŸ“‹ ç§»åŠ¨ç«¯æ”¯æŒ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

### æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç°äº† bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·åœ¨ GitHub ä¸Šæäº¤ Issueã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ‘¥ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/insomniacdoll/animeloader
- é—®é¢˜åé¦ˆï¼šhttps://github.com/insomniacdoll/animeloader/issues

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

<div align="center">

**Made with â¤ï¸ by AnimeLoader Team**

</div>